
<h1>Not approved user List</h1>
<div *ngIf="users?.length>0;else noUsers">
    <table mat-table [dataSource]="users" class="mat-elevation-z8">
      <ng-container matColumnDef="Name">
        <th mat-header-cell *matHeaderCellDef> Full Name</th>
        <td mat-cell *matCellDef="let users"> {{users.firstName}}  {{users.lastName}} </td>
      </ng-container>
      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef>Email</th>
        <td mat-cell *matCellDef="let users"> {{users.email}}  </td>
      </ng-container>
      <ng-container matColumnDef="mobile_no">
        <th mat-header-cell *matHeaderCellDef>Mobile Number</th>
        <td mat-cell *matCellDef="let users"> {{users.mobileNumber}}  </td>
      </ng-container>
      <ng-container matColumnDef="edit">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let users">
          <button mat-icon-button type="button" class="edit_btn" (click) ="edit(users)"  color="primary">
            Approve
          </button>
        </td>
      </ng-container>
      
      <tr mat-header-row *matHeaderRowDef="routeColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: routeColumns;"></tr>
    </table>
    </div>

    <ng-template #noUsers>
      <hr>
      <h5>There are no not approved users</h5>
    </ng-template>

<mat-divider></mat-divider>
<br><br>
<h1>Add an admin</h1>
<mat-card>
<form class="signup-form" (ngSubmit)="createUser()">
  <div class="error">
    <div class="auth-error">
      {{authError?.message}}
    </div>
  </div>
  <mat-form-field class="signup-full-width">
    <mat-label>First Name</mat-label>
    <input type="text" matInput placeholder="John" [(ngModel)]="user.first_name" name="first_name">
  </mat-form-field>

  <mat-form-field class="signup-full-width">
    <mat-label>Last Name</mat-label>
    <input type="text" matInput placeholder="Doe" [(ngModel)]="user.last_name" name="last_name">
  </mat-form-field>

  <mat-form-field class="signup-full-width">
    <mat-label>ID No.</mat-label>
    <input type="text" matInput placeholder="921561456V" [(ngModel)]="user.id_no" name="uid">
  </mat-form-field>

  <mat-form-field class="signup-full-width">
    <mat-label>Mobile No.</mat-label>
    <input type="text" matInput placeholder="714568424" maxlength="9" [(ngModel)]="user.mobile_no" name="mobile_no">
  </mat-form-field>

  <div>
    <mat-label>Profile Picture</mat-label>
  </div>
    
    <input type="file" name="dp"  [(ngModel)]="selectedFile" (change)="onFileSelected($event)">
  

  <mat-form-field class="signup-full-width">
    <mat-label>Choose Your Role</mat-label>
    <mat-select [(ngModel)]="user.role" name="sales_agent">
      <mat-option value="Driver">Driver</mat-option>
      <mat-option value="Store Keeper">Store Keeper</mat-option>
      <mat-option value="Sales Agent">Sales Agent</mat-option>
    </mat-select>
  </mat-form-field>

  <mat-form-field class="signup-full-width">
    <mat-label>Email</mat-label>
    <input type="email" matInput placeholder="abc@gmail.com" [(ngModel)]="user.email" name="email">
  </mat-form-field>

  <mat-form-field class="signup-full-width">
    <mat-label>Password</mat-label>
    <input type="password" matInput placeholder="Password" [(ngModel)]="user.password" name="password">
  </mat-form-field>

  <mat-form-field class="signup-full-width">
    <mat-label>Confirm Password</mat-label>
    <input type="password" matInput placeholder="Confirm Password">
  </mat-form-field>
<div fxLayout="row" fxLayoutAlign="space-between center" fxLayoutGap="12px">
  <button class="signup-btn" mat-raised-button color="primary" click="createUser()">SIGNUP</button>
  <button class="reset-btn" mat-raised-button>RESET</button>
</div>
</form>
</mat-card>

