<br>
<h1>Route List</h1>
<div *ngIf="disroutes?.length>0;else noRoutes">
    <table mat-table [dataSource]="disroutes" class="mat-elevation-z8">
      <ng-container matColumnDef="Route_Name">
        <th mat-header-cell *matHeaderCellDef> Route name </th>
        <td mat-cell *matCellDef="let disroutes"> {{disroutes.route_name}} </td>
      </ng-container>
      <ng-container matColumnDef="cities">
        <th mat-header-cell *matHeaderCellDef>Cities</th>
        <td mat-cell *matCellDef="let disroutes"> {{disroutes.cities}}  </td>
      </ng-container>
      <ng-container matColumnDef="assinged_person">
        <th mat-header-cell *matHeaderCellDef>Assigned Person</th>
        <td mat-cell *matCellDef="let disroutes"> {{disroutes.driver}}  </td>
      </ng-container>
      <ng-container matColumnDef="edit">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let disroutes">
          <button mat-icon-button class="edit_btn" (click)="callAssignment(disroutes)" color="primary">
            <mat-icon>edit</mat-icon>
          </button>
        </td>
      </ng-container>
      <ng-container matColumnDef="delete">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let disroutes">
          <button mat-icon-button class="dlt_btn" (click)="deleteRoute(disroutes)">
            <mat-icon>delete</mat-icon>
          </button>
        </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="routeColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: routeColumns;"></tr>
      <ng-template #callDLTDialog *ngFor="let disroute of disroutes">
        <h1 mat-dialog-title>Alert!</h1>
        <div mat-dialog-content>
          <p>Are you sure you want to delete this item?</p>
        </div>
        <div mat-dialog-actions fxLayoutAlign="end end" fxLayoutGap="10px">
          <button mat-raised-button [mat-dialog-close]="">Cancel</button>
          <button mat-raised-button [mat-dialog-close]="" (click)="deleteRoute(disroute)" color="primary">Yes</button>
        </div>
  </ng-template>
  <ng-template #assignAgent *ngFor="let disroute of disroutes">
    <h1 mat-dialog-title>Change the Assigned person?</h1>
    <p>Select the driver/delivery assistant:</p>
    <div mat-dialog-content>
      <div fxLayout="row" fxLayoutAlign="space-between start" fxLayoutGap="20px">
        <mat-form-field class="editdriver1-field">
          <mat-label>Driver/Delivery Assistant ID</mat-label>
          <input type="text"  matInput placeholder="100000" [(ngModel)]="driver_id" name="driver_id">
        </mat-form-field>
        <button mat-raised-button class="editdriver2-field" type= "button" color="primary"  (click)="searchDrivers()">
          <mat-icon>search</mat-icon>
        </button>
      </div>
      <mat-form-field class="editdriver-field">
        <mat-label>Driver/Delivery Assistant</mat-label>
        <input type="text"  matInput placeholder="John" [(ngModel)]="assigned_person" name="driver">
      </mat-form-field>
      <!-- <mat-form-field class="driver-field">
        <mat-label>
          Driver/Delivery Assistant
        </mat-label>
        <mat-select [(ngModel)]="assigned_person" name="assinged_person" >
          <mat-option *ngFor="let driver of drivers" [value]="driver.first_name +'  '+ driver.last_name">{{driver.first_name}} {{driver.last_name}}  </mat-option>
        </mat-select>
      </mat-form-field> -->
    </div>
    <br>
    <div mat-dialog-actions fxLayoutAlign="end end" fxLayoutGap="10px">
      <button mat-raised-button [mat-dialog-close]="">Cancel</button>
      <button mat-raised-button [mat-dialog-close]="" (click)="updateRoute(this.rEdit)" color="primary">Done</button>
    </div>
</ng-template>
    </table>
    </div>

    <ng-template #noRoutes>
      <hr>
      <h5>No routes had been added yet</h5>
    </ng-template>
